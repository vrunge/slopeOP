{
    "collab_server" : "",
    "contents" : "\ndevtools::install_github(\"vrunge/slopeOP\", force = TRUE)\nlibrary(slopeOP)\n\nn <- 10\ndata <- slopeData(c(1,1*n,2*n,3*n,5*n),c(0,1,0,3,2),1)\nplot(data)\n\n\nslopeOP(data,c(0,1,2,3),3, type = \"pruning2\")\nslopeOP(data,c(0,1,2,3),3, type = \"null\")\n\n\n\nn <- 8\ndata <- slopeData(c(1,100*n,200*n,300*n,500*n),c(0,1,0,3,2),0.5)\nplot(data)\n\nstart_time <- Sys.time()\nslopeOP(data,c(0,1,2,3),5,  type = \"null\")\nend_time <- Sys.time()\nend_time - start_time\n\n\n\n\nn <- 50\ndata <- slopeData(c(1,3*n,4*n,7*n,10*n,15*n,20*n),c(60,65,64,70,75,72,72),0.5)\nplot(data)\n\nstart_time <- Sys.time()\nslopeOP(data,50:100,5, type = \"channel\")\nend_time <- Sys.time()\nend_time - start_time\n\n\n\n#######################################################################################\n\nn <- 1\ndata <- slopeData(c(1,3*n,4*n,7*n,10*n),c(75,80,75,75,80),1)\ns1 <- slopeOP(data,75:80,5,  type = \"null\")\ns2 <- slopeOP(data,75:80,5,  type = \"pruning\")\n\n\n\n#######################################################################################\n\n\nstart_time <- Sys.time()\nslopeOP(data,71:80,5,  type = \"null\")\nend_time <- Sys.time()\nend_time - start_time\n\n\nn <- 2\ndata <- slopeData(c(1,3*n,4*n,7*n,10*n,15*n,20*n),c(71,80,70,75,80,71,75),2)\nplot(data)\n\n\nstart_time <- Sys.time()\nslopeOP(data,71:80,5,  type = \"pruning\")\nend_time <- Sys.time()\nend_time - start_time\n\nstart_time <- Sys.time()\nslopeOP(data,71:80,5,  type = \"channel\")\nend_time <- Sys.time()\nend_time - start_time\n\n\n\n\n#######################################################################################\n\nnb <- 0\nfor(i in 1:100)\n{\n  print(i)\n  n <- 20\n  data <- slopeData(c(1,3*n,4*n,7*n,10*n,15*n,20*n),c(71,80,71,75,80,70,75),4)\n  s1 <- slopeOP(data,71:80,50,  type =\"null\")\n  s2 <- slopeOP(data,71:80,50,  type = \"pruning\")\n  #s2 <- slopeOP(data,71:80,5,  type = \"channel\") #OKOK\n\n  if(s1$globalCost != s2$globalCost)\n  {\n    nb <- nb + 1\n    print(s1)\n    print(s2)\n  }\n}\nnb\n\n\n\n\n##########################################################################\n\n\nn <- 20\ndata <- slopeData(c(1,3*n,4*n,7*n,10*n,15*n,20*n),c(71,80,70,75,80,71,75),0.1)\nplot(data)\n\nstart_time1 <- Sys.time()\ns1 <- slopeOP(data,71:80,5, type = \"null\")\nend_time1 <- Sys.time()\nres1 <- end_time1 - start_time1\n\nstart_time2 <- Sys.time()\ns2 <- slopeOP(data,71:80,5, type = \"channel\")\nend_time2 <- Sys.time()\nres2 <- end_time2 - start_time2\n\nstart_time3 <- Sys.time()\ns3 <- slopeOP(data,71:80,5, type =  \"pruning\")\nend_time3 <- Sys.time()\nres3 <- end_time3 - start_time3\n\nres1\nres2\nres3\n\n\n###################### TEST UP CONSTRAINT#####################\n\n\nn <- 50\ndata <- slopeData(c(1,150,200,350,500,750,1000), c(71,73,70,75,77,73,80), 1)\nslopeOP(data, 71:80, 5, constraint = \"up\")\n\n\n\n###################### TEST UP-DOWN CONSTRAINT#####################\n\n\n\ndata <- slopeData(c(1,150,200,350,500,750,1000), c(71,73,70,75,78,73,75), 1)\nslopeOP(data, 71:80, 5, constraint = \"updown\")\nplot(data)\n\nslopeOP(data,70:80,5, constraint = \"updown\")\n\n\n\n\n###################### TEST SMOOTHING CONSTRAINT#####################\n\n\nn <- 2\ndata <- slopeData(c(1,30,40,70,100,150,200),c(70,80,70,80,70,80,70),0.5)\nplot(data)\n\nslopeOP(data,70:80,5)\nslopeOP(data,70:80,5, constraint = \"smoothing\", minAngle = 170)\n\n\n\n####################################################################\n\n\n\n\n\nstart_time <- Sys.time()\nslopeOP(data, seq.int(from = 1, to = 50, length.out = 30), 200, type = \"channel\")\nend_time <- Sys.time()\nend_time - start_time\n\n\nstart_time <- Sys.time()\nslopeOP(data, seq.int(from = 1, to = 50, length.out = 30), 200, type = \"pruning2\")\nend_time <- Sys.time()\nend_time - start_time\n\n\nstart_time <- Sys.time()\nslopeOP(data, seq.int(from = 1, to = 50, length.out = 30), 200, type = \"pruning\")\nend_time <- Sys.time()\nend_time - start_time\n\n\n\n############################################\n\nn <- 50\ndata <- slopeData(c(1,3*n,4*n,7*n,10*n,15*n,20*n),c(10,20,7,40,44,27,12),1)\nplot(data)\n\n\nstart_time <- Sys.time()\nslopeOP(data, seq.int(from = 1, to = 50, length.out = 30), 200, type = \"null\")\nend_time <- Sys.time()\nend_time - start_time\n\nstart_time <- Sys.time()\nslopeOP(data, seq.int(from = 1, to = 50, length.out = 30), 200, type = \"pruning2\")\nend_time <- Sys.time()\nend_time - start_time\n\n\n\n",
    "created" : 1561449640718.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1663487777",
    "id" : "1B1A77AC",
    "lastKnownWriteTime" : 1561470905,
    "last_content_update" : 1561470905422,
    "path" : "C:/Users/runge/Dropbox/PostDoc/StageNico/R/slopeOPtests.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}